var BitAdmin={RedirectToLoginPage:function(){window.location.href="../../pages/account/login.html"},RedirectToHomePage:function(){window.location.href="../../pages/home/index.html"},IsLogin:function(n,t){$.get("../../account/isLogin",function(i){i=="true"&&t=="login"&&BitAdmin.RedirectToHomePage();i=="false"&&t=="page"&&BitAdmin.RedirectToLoginPage();$.isFunction(n)&&n(i)})},InitRight:function(n){n!=undefined&&$.post("../../account/getOperationCode?sign="+n,function(n){if(n.code==0&&n.data){if($.adminSetting.addLogs($(document).attr("title"),"页面访问","访问"),n.data.Operation==!0)return;if(n.data.Operation==!1){window.location.href="../../pages/error/false.html";return}$.each($("[type='button'],:button,a"),function(){var t=$(this).attr("action");t!=undefined&&t!="undefined"&&t!=""&&t!=null&&t!="null"&&n.data.Operation.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())==-1&&$(this).remove()})}else alert(n.msg)})},AddLogs:function(n,t,i){$.get("../../system/addLog",{title:n,Type:t,Description:i})}},BitPage={GetQueryString:function(n,t){t==undefined&&(t=window.location.search);var r=new RegExp("(\\?|&)"+n+"=([^&]*)(&|$)"),i=t.match(r);return i!=null?unescape(i[2]):null},LoadContent:function(){var t=BitPage.GetQueryString("page").split("?")[0],i,n;t=t.replace("../","").indexOf(".")>-1?t:t+".html";$("section.content").load("../"+t);i=BitPage.GetQueryString("sign");BitAdmin.InitRight(i);window.parent.BitAdmin.Pages?n=window.parent.BitAdmin.Pages[i]:window.BitAdmin.Pages&&(n=window.BitAdmin.Pages[i]);n!=null&&($(document).attr("title",n.PageName),$(".header-moduleName").text(n.ModuleName),$(".header-pageName").text(n.PageName))},Redirect:function(n,t,i,r){var f={tabUrl:n,param:t,tabSign:i},u=BitPage.GetRedirect(f);switch(r){case 1:window.parent.window.location.href=u;break;default:window.location.href=u}},GetRedirect:function(n){var i="",r,e;$.each(n.param,function(n,t){i+="&"+n+"="+t});i=i.replace("&","?");var u="",t=n.tabUrl.replace("../","").split("."),f=t[t.length-1].toLocaleLowerCase();if(f=="_blank"){r=document.createElement("a");document.body.appendChild(r);r.href=n.tabUrl.replace("."+t[t.length-1],"")+i;r.target="_blank";r.click();document.body.removeChild(r);return}return f=="html"?u=n.tabUrl+i:(e="layout.html",t.length>1&&(e=f+".html"),u="../../pages/shared/"+e+"?page="+encodeURIComponent(n.tabUrl.replace("."+t[t.length-1],"")+i)+"&sign="+n.tabSign),u}},string={format:function(n,t){return arguments.length==1?function(){var t=$.makeArray(arguments);return t.unshift(n),BitAdminTools.format.apply(this,t)}:(arguments.length>2&&t.constructor!=Array&&(t=$.makeArray(arguments).slice(1)),t.constructor!=Array&&(t=[t]),$.each(t,function(t,i){n=n.replace(new RegExp("\\{"+t+"\\}","g"),i)}),n)},subString:function(n,t){return n.length>t&&(n=n.substr(0,t)+"..."),n}},time={format:function(n,t){var i,r,u;if(n==""||n==undefined||n=="undefined"||n==null)return"";i=n.toString().indexOf("Date")>0?new Date(parseInt(n.replace("/Date(","").replace(")/",""),10)):new Date(n);r={"M+":i.getMonth()+1,"d+":i.getDate(),"H+":i.getHours(),"h+":i.getHours(),"m+":i.getMinutes(),"s+":i.getSeconds(),"q+":Math.floor((i.getMonth()+3)/3),f:i.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,("000"+i.getFullYear()).substr(("000"+i.getFullYear()).length-4)));for(u in r)new RegExp("("+u+")").test(t)&&(t=t.replace(RegExp.$1,RegExp.$1.length==1?r[u]:("00"+r[u]).substr((""+r[u]).length)));return t},parse:function(n,t){var i={yyyy:"0001",MM:"01",dd:"01",HH:"00",mm:"00",ss:"00",fff:"00"},r,u;for(r in i)u=t.indexOf(r),u!=-1&&(i[r]=n.substr(u,r.length));return new Date(i.yyyy,i.MM-1,i.dd,i.HH,i.mm,i.ss,i.fff)}},guid={"new":function(){for(var i,t="",n=1;n<=32;n++)i=Math.floor(Math.random()*16).toString(16),t+=i,(n==8||n==12||n==16||n==20)&&(t+="-");return t},validate:function(n){return n!=null&&guid.regex.test(n)},regex:new RegExp("^[0-9a-fA-F]{8}(-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}$")},array={remove:function(n,t){return n.splice($.inArray(t,n),1),n},removeAll:function(n){return n.splice(0,n.length),n}};$.extend({showLoading:function(){$("body").append('<div class="pageLoading"><\/div>')},hideLoading:function(){$(".pageLoading").remove()}});$.ajaxSetup({statusCode:{405:function(){BitAdmin.RedirectToLoginPage()}},cache:!1});$(function(){});